import{Q as f}from"./QTooltip.8d1993a0.js";import{_ as g,h,av as _,r as v,T as b,o as y,g as C,e as i,b as l,ar as r,Q,j as w}from"./index.f603e444.js";import{Q as P}from"./QPageSticky.118496c4.js";import{Q as p}from"./QPage.0e9a9602.js";import{Q as k}from"./QPageContainer.65582b99.js";import{u as I}from"./useShared.1eaddee4.js";import"./position-engine.71c32519.js";import"./selection.1946e002.js";import"./use-quasar.7736967f.js";const F=h({name:"IndexPage",setup(){const{uploadPlantilla:o}=I(),{userInfo:n}=_();let a=null;const d=v(null);b(()=>{a=new FroalaEditor("#example")});const m=t=>{if(a){const e="firma",c=a.html.get();o("plantilla_cuarta",n.value.uid,e,c,t)}};return{getEditorContent:m,fileInput:d,uploadFile:()=>{const t=d.value.files[0];if(t){const e=new FormData;e.append("archivo",t),m(e)}else console.error("No se ha seleccionado ning\xFAn archivo")},pdf:async()=>{const t=a.html.get(),e={margin:0,filename:"time_sheet_report.pdf",image:{type:"jpeg",quality:.2},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"p"}};await html2pdf().from(t).set(e).save()},imprimir:()=>{const t=a.html.get();var e=window.open("","_blank");e.document.write("<html><head><title>Contenido Imprimible</title></head><body>"),e.document.write(t),e.document.write("</body></html>"),e.document.close(),e.print()}}}}),x=r("div",{id:"example"},null,-1),B={type:"file",ref:"fileInput",style:{color:"teal"}};function N(o,n,a,d,m,u){return y(),C(p,null,{default:i(()=>[l(k,null,{default:i(()=>[l(p,{class:"q-gutter-y-md"},{default:i(()=>[x,r("div",null,[r("input",B,null,512),l(P,{position:"bottom-right",offset:[18,18],style:{"z-index":"1000"}},{default:i(()=>[l(Q,{fab:"",icon:"send",color:"red-13",onClick:o.uploadFile},{default:i(()=>[l(f,null,{default:i(()=>[w(" Guardar Plantilla ")]),_:1})]),_:1},8,["onClick"])]),_:1})]),r("div",null,[r("button",{onClick:n[0]||(n[0]=(...s)=>o.pdf&&o.pdf(...s))},"Pdf"),r("button",{onClick:n[1]||(n[1]=(...s)=>o.imprimir&&o.imprimir(...s))},"imprimir")])]),_:1})]),_:1})]),_:1})}var M=g(F,[["render",N]]);export{M as default};
